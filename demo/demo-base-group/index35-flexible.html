<!DOCTYPE html>
<html ng-app="Demo">
	<!--
 -->

	<meta charset="utf-8">
	<meta name="renderer" content="webkit">
	<meta http-equiv="Cache-Control" content="no-siteapp">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="apple-touch-fullscreen" content="YES" />
	<meta name="format-detection" content="telephone=no,email=no" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-touch-fullscreen" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
	<script type="text/javascript" src="js/jquery-2.1.4.js"></script>
	<script src="js/angular.min.js"></script>
	<script type="text/javascript" src="js/angular-ui-router.js"></script>
	<script type="text/javascript" src="js/flexible.js"></script>
	<script>
		angular.module('Demo', ['ui.router'])
			.config(["$stateProvider", "$urlRouterProvider", routeConfig])
			.controller("testCtrl", angular.noop);

//		angular.module('Demo').run(['$templateCache', function($templateCache) {
//			'use strict';
//			$templateCache.put('/views/demo1.html',
//				"<div>demo111</div><div>{{name}}</div>"
//			);
//			$templateCache.put('/views/demo2.html',
//				"<div>demo2222</div>"
//			);
//
//		}]);

		function routeConfig($stateProvider, $urlRouterProvider) {
			$urlRouterProvider.otherwise("/app/page1");
			$stateProvider
				.state("app", {
					url: "/app",
					templateUrl: "'layout.html'",
					controller: function($scope) {
						$scope.name = "XG";
					}
				})
				.state("app.page1", {
					url: "/page1",
					templateUrl: "'page1.html'"
				})
				.state("app.page2", {
					url: "/page2",
					templateUrl: "'page2.html'",
					controller: function($scope) {
						$scope.name = "XG2";
					}
				});
		};
	</script>
	<style type="text/css">
		.ui-btn {
			padding: 10px;
			border: 1px solid #ccc;
			margin-bottom: 5px;
		}
		
		div{
			/*font-size: 32/75rem;*/
			font-size: 0.42rem;
		}
		
		.img {
			/*width: 666/2/75px;*/
			width: 8.86rem;
			/*height: 432/2/75px;*/
			height: 2.56rem;
			background: url(./image/su-product.png) 0 0 no-repeat;
			background-size: 100% 100%;
		}
	</style>

	<body>
		<div ng-controller="testCtrl as ctrl">
			<ul>
				<li><a ui-sref="app">app</a></li>
			</ul>
			<div ui-view></div>
			<script type="text/ng-template" id="'layout.html'">
				<ul>
					<li><a ui-sref="app.page1">app.page1-{{name}}</a></li>
					<li><a ui-sref="app.page2">app.page2-{{name}}</a></li>
				</ul>
				<div ui-view></div>
			</script>

			<script type="text/ng-template" id="'page1.html'">
				<div>1111</div>
				<div class="img"></div>
			</script>
			<script type="text/ng-template" id="'page2.html'">
				this is page 2 for app.{{name}}
			</script>
		</div>
	</body>

</html>